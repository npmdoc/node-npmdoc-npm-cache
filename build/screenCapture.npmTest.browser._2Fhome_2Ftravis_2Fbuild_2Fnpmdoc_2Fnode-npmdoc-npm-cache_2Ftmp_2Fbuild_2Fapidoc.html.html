<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/swarajban/npm-cache">npm-cache (v0.6.5)</a>
</h1>
<h4>cache dependency manager installs to local machine</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache">module npm-cache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager">
            function <span class="apidocSignatureSpan">npm-cache.</span>cacheDependencyManager
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>bowerConfig</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>cacheDependencyManager.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>composerConfig</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>jspmConfig</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>logger</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>npmConfig</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.</span>parseUtils</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.bowerConfig">module npm-cache.bowerConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.bowerConfig.getCliVersion">
            function <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>getCliVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.bowerConfig.getFileHash">
            function <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>getFileHash
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>cliName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>configPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>installCommand</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>installDirectory</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.cacheDependencyManager">module npm-cache.cacheDependencyManager</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.cacheDependencyManager">
            function <span class="apidocSignatureSpan">npm-cache.</span>cacheDependencyManager
            <span class="apidocSignatureSpan">(config)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.getAvailableDefaultManagers">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.</span>getAvailableDefaultManagers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.getAvailableManagers">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.</span>getAvailableManagers
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.</span>managers</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.cacheDependencyManager.prototype">module npm-cache.cacheDependencyManager.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.archiveDependencies">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>archiveDependencies
            <span class="apidocSignatureSpan">(cacheDirectory, cachePath, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.backupFile">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>backupFile
            <span class="apidocSignatureSpan">(backupPath, file)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogError">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>cacheLogError
            <span class="apidocSignatureSpan">(error)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogInfo">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>cacheLogInfo
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.installCachedDependencies">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>installCachedDependencies
            <span class="apidocSignatureSpan">(cachePath, compressedCacheExists, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.installDependencies">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>installDependencies
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.loadDependencies">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>loadDependencies
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.restoreFile">
            function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>restoreFile
            <span class="apidocSignatureSpan">(backupPath, file)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.composerConfig">module npm-cache.composerConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.composerConfig.getCliVersion">
            function <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>getCliVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.composerConfig.getFileHash">
            function <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>getFileHash
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>cliName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>configPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>installCommand</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>installDirectory</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.jspmConfig">module npm-cache.jspmConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.jspmConfig.getCliVersion">
            function <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>getCliVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.jspmConfig.getFileHash">
            function <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>getFileHash
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>addToArchiveAndRestore</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>cliName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>configPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>installCommand</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>installDirectory</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.logger">module npm-cache.logger</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.logger.logError">
            function <span class="apidocSignatureSpan">npm-cache.logger.</span>logError
            <span class="apidocSignatureSpan">(errorMessage)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.logger.logInfo">
            function <span class="apidocSignatureSpan">npm-cache.logger.</span>logInfo
            <span class="apidocSignatureSpan">(message)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.npmConfig">module npm-cache.npmConfig</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.npmConfig.getCliVersion">
            function <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>getCliVersion
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.npmConfig.getFileHash">
            function <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>getFileHash
            <span class="apidocSignatureSpan">(filePath)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>cliName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>configPath</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>installCommand</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>installDirectory</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.npm-cache.parseUtils">module npm-cache.parseUtils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.parseUtils.getManagerArgs">
            function <span class="apidocSignatureSpan">npm-cache.parseUtils.</span>getManagerArgs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.npm-cache.parseUtils.getNpmCacheArgs">
            function <span class="apidocSignatureSpan">npm-cache.parseUtils.</span>getNpmCacheArgs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache" id="apidoc.module.npm-cache">module npm-cache</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager" id="apidoc.element.npm-cache.cacheDependencyManager">
        function <span class="apidocSignatureSpan">npm-cache.</span>cacheDependencyManager
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CacheDependencyManager(config) {
  this.config = config;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>
















</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.bowerConfig" id="apidoc.module.npm-cache.bowerConfig">module npm-cache.bowerConfig</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.bowerConfig.getCliVersion" id="apidoc.element.npm-cache.bowerConfig.getCliVersion">
        function <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>getCliVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getNpmVersion() {
  return shell.exec('bower --version', {silent: true}).output.trim();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Get hash of dependency config file
var hash = this.config.getFileHash(this.config.configPath);
hash = md5(cacheVersion + hash);
this.cacheLogInfo('hash of ' + this.config.configPath + ': ' + hash);
// cachePath is absolute path to where local cache of dependencies is located
var cacheDirectory = path.resolve(this.config.cacheDirectory, this.config.cliName, this.config.<span class="apidocCodeKeywordSpan
">getCliVersion</span>());
var cachePathArchive = path.resolve(cacheDirectory, hash + '.tar.gz');
var cachePathNotArchived = path.resolve(cacheDirectory, hash);

// Check if local cache of dependencies exists
var cacheArchiveExists = fs.existsSync(cachePathArchive);
var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.bowerConfig.getFileHash" id="apidoc.element.npm-cache.bowerConfig.getFileHash">
        function <span class="apidocSignatureSpan">npm-cache.bowerConfig.</span>getFileHash
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getFileHash(filePath) {
  var json = JSON.parse(fs.readFileSync(filePath));
  return md5(JSON.stringify({
    dependencies: json.dependencies,
    devDependencies: json.devDependencies,
    overrides: json.overrides
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  async.each(
    managers,
    function calculateHash (managerName) {
      var managerConfig = require(availableManagers[managerName]);
      managerConfig.cacheDirectory = opts.cacheDirectory;

      var hash = managerConfig.<span class="apidocCodeKeywordSpan">getFileHash</span>(managerConfig.configPath);
      console.log(hash);
    }
  );
};


// Recursively lists files in directory up to maxDepth
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.cacheDependencyManager" id="apidoc.module.npm-cache.cacheDependencyManager">module npm-cache.cacheDependencyManager</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.cacheDependencyManager" id="apidoc.element.npm-cache.cacheDependencyManager.cacheDependencyManager">
        function <span class="apidocSignatureSpan">npm-cache.</span>cacheDependencyManager
        <span class="apidocSignatureSpan">(config)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function CacheDependencyManager(config) {
  this.config = config;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.getAvailableDefaultManagers" id="apidoc.element.npm-cache.cacheDependencyManager.getAvailableDefaultManagers">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.</span>getAvailableDefaultManagers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableDefaultManagers = function () {
  return _.pick(CacheDependencyManager.getAvailableManagers(), ['composer', 'npm', 'bower']);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  }
);

// If no managers were specified, try installing everything by default!
if (_.isEmpty(managers)) {
  // add all keys from available managers as keys here
  _.forEach(
    CacheDependencyManager.<span class="apidocCodeKeywordSpan">getAvailableDefaultManagers</span>(),
    function addManager (managerPath, manager) {
      managers[manager] = '';
    }
  );
}

return managers;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.getAvailableManagers" id="apidoc.element.npm-cache.cacheDependencyManager.getAvailableManagers">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.</span>getAvailableManagers
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAvailableManagers = function () {
  if (CacheDependencyManager.managers === undefined) {
    CacheDependencyManager.managers = {};
    var files = fs.readdirSync(__dirname);
    var managerRegex = /(\S+)Config\.js/;
    files.forEach(
      function addAvailableManager (file) {
        var result = managerRegex.exec(file);
        if (result !== null) {
          var managerName = result[1];
          CacheDependencyManager.managers[managerName] = path.join(__dirname, file);
        }
      }
    );
  }
  return CacheDependencyManager.managers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

// npm-cache command handlers

// main method for installing specified dependencies
var installDependencies = function (opts) {
prepareCacheDirectory(opts.cacheDirectory);

var availableManagers = CacheDependencyManager.<span class="apidocCodeKeywordSpan">getAvailableManagers</span>();
var managerArguments = ParseUtils.getManagerArgs();
var managers = Object.keys(managerArguments);

async.each(
  managers,
  function startManager (managerName, callback) {
    var managerConfig = require(availableManagers[managerName]);
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.cacheDependencyManager.prototype" id="apidoc.module.npm-cache.cacheDependencyManager.prototype">module npm-cache.cacheDependencyManager.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.archiveDependencies" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.archiveDependencies">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>archiveDependencies
        <span class="apidocSignatureSpan">(cacheDirectory, cachePath, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">archiveDependencies = function (cacheDirectory, cachePath, callback) {
  var self = this;
  var error = null;
  var installedDirectory = getAbsolutePath(this.config.installDirectory);
  var fileBackupDirectory = getFileBackupPath(installedDirectory);
  this.cacheLogInfo('archiving dependencies from ' + installedDirectory);

  if (!fs.existsSync(installedDirectory)) {
    this.cacheLogInfo('skipping archive. Install directory does not exist.');
    return error;
  }

  if (this.config.addToArchiveAndRestore) {
    this.backupFile(fileBackupDirectory, this.config.addToArchiveAndRestore);
  }

  // Make sure cache directory is created
  fs.mkdirsSync(cacheDirectory);

  var tmpName = tmp.tmpNameSync({
    dir: cacheDirectory
  });
  tmp.setGracefulCleanup();

  function onError(error) {
    self.cacheLogError('error tar-ing ' + installedDirectory + ' :' + error);
    onFinally();
    callback(error);
  }

  function onEnd() {
    if (fs.existsSync(cachePath)) {
      fs.removeSync(cachePath);
    }
    fs.renameSync(tmpName, cachePath);
    self.cacheLogInfo('installed and archived dependencies');
    onFinally();
    callback();
  }

  function onFinally() {
    if (fs.existsSync(fileBackupDirectory)) {
      fs.removeSync(fileBackupDirectory);
    }

    if (fs.existsSync(tmpName)) {
      fs.removeSync(tmpName);
    }
  }

  var installedDirectoryStream = fstream.Reader({path: installedDirectory}).on('error', onError);
  // TODO: speed this up
  if (this.config.noArchive) {
    installedDirectoryStream
      .on('end', onEnd)
      .pipe(fstream.Writer({path: tmpName, type: 'Directory'}));

  } else {
    tar.pack(installedDirectory)
      .pipe(zlib.createGzip())
      .pipe(fs.createWriteStream(tmpName))
      .on('error', onError)
      .on('finish', onEnd);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (error !== null) {
      callback(error);
      return;
    }

    // Try to archive newly installed dependencies
    var cachePathWithInstalledDirectory = path.resolve(cachePathNotArchived, this.config.installDirectory);
      this.<span class="apidocCodeKeywordSpan">archiveDependencies</span>(
      this.config.noArchive ? cachePathNotArchived : cacheDirectory,
      this.config.noArchive ? cachePathWithInstalledDirectory : cachePathArchive,
      callback
    );
  }
};
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.backupFile" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.backupFile">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>backupFile
        <span class="apidocSignatureSpan">(backupPath, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">backupFile = function (backupPath, file) {
  var sourceFile = getAbsolutePath(file);
  var backupFilename = getFileBackupFilename(file);
  var backupFile = path.join(backupPath, backupFilename);
  if (!fs.existsSync(sourceFile)) {
    this.cacheLogError('backup file [file not found]:' + file);
    return;
  }

  fs.mkdirsSync(backupPath);
  fs.copySync(sourceFile, backupFile);
  this.cacheLogInfo('backup file: ' + file);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

if (!fs.existsSync(installedDirectory)) {
  this.cacheLogInfo('skipping archive. Install directory does not exist.');
  return error;
}

if (this.config.addToArchiveAndRestore) {
  this.<span class="apidocCodeKeywordSpan">backupFile</span>(fileBackupDirectory, this.config.addToArchiveAndRestore);
}

// Make sure cache directory is created
fs.mkdirsSync(cacheDirectory);

var tmpName = tmp.tmpNameSync({
  dir: cacheDirectory
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogError" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogError">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>cacheLogError
        <span class="apidocSignatureSpan">(error)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cacheLogError = function (error) {
  logger.logError('[' + this.config.cliName + '] ' + error);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
CacheDependencyManager.prototype.installDependencies = function () {
  var error = null;
  var installCommand = this.config.installCommand + ' ' + this.config.installOptions;
  installCommand = installCommand.trim();
  this.cacheLogInfo('running [' + installCommand + ']...');
  if (shell.exec(installCommand).code !== 0) {
    error = 'error running ' + this.config.installCommand;
    this.<span class="apidocCodeKeywordSpan">cacheLogError</span>(error);
  } else {
    this.cacheLogInfo('installed ' + this.config.cliName + ' dependencies, now archiving');
  }
  return error;
};

CacheDependencyManager.prototype.backupFile = function (backupPath, file) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogInfo" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.cacheLogInfo">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>cacheLogInfo
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cacheLogInfo = function (message) {
  logger.logInfo('[' + this.config.cliName + '] ' + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
};


CacheDependencyManager.prototype.installDependencies = function () {
var error = null;
var installCommand = this.config.installCommand + ' ' + this.config.installOptions;
installCommand = installCommand.trim();
this.<span class="apidocCodeKeywordSpan">cacheLogInfo</span>('running [' + installCommand + ']...');
if (shell.exec(installCommand).code !== 0) {
  error = 'error running ' + this.config.installCommand;
  this.cacheLogError(error);
} else {
  this.cacheLogInfo('installed ' + this.config.cliName + ' dependencies, now archiving');
}
return error;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.installCachedDependencies" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.installCachedDependencies">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>installCachedDependencies
        <span class="apidocSignatureSpan">(cachePath, compressedCacheExists, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">installCachedDependencies = function (cachePath, compressedCacheExists, callback) {
  var self = this;
  var installDirectory = getAbsolutePath(this.config.installDirectory);
  var fileBackupDirectory = getFileBackupPath(installDirectory);
  var targetPath = path.dirname(installDirectory);
  this.cacheLogInfo('clearing installed dependencies at ' + installDirectory);
  fs.removeSync(installDirectory);
  this.cacheLogInfo('...cleared');
  this.cacheLogInfo('retrieving dependencies from ' + cachePath);

  function onError(error) {
    self.cacheLogError('Error retrieving ' + cachePath + ': ' + error);
    callback(error);
  }
  function onEnd() {
    if (self.config.addToArchiveAndRestore) {
      self.restoreFile(fileBackupDirectory, self.config.addToArchiveAndRestore);
      fs.removeSync(fileBackupDirectory);
    }
    self.cacheLogInfo('done extracting');
    callback();
  }

  if (compressedCacheExists) {
    fs.createReadStream(cachePath)
      .pipe(zlib.createGunzip())
      .pipe(tar.extract(installDirectory))
      .on('error', onError)
      .on('finish', onEnd);
  } else {
    fstream.Reader(cachePath)
        .on('error', onError)
        .on('end', onEnd)
        .pipe(fstream.Writer(targetPath));
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// Check if local cache of dependencies exists
var cacheArchiveExists = fs.existsSync(cachePathArchive);
var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
  this.cacheLogInfo('cache exists');

  // Try to retrieve cached dependencies
  this.<span class="apidocCodeKeywordSpan">installCachedDependencies</span>(
    cacheArchiveExists ? cachePathArchive : cachePathNotArchived,
    cacheArchiveExists,
    callback
  );

} else { // install dependencies with CLI tool and cache
  // Try to install dependencies using package manager
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.installDependencies" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.installDependencies">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>installDependencies
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">installDependencies = function () {
  var error = null;
  var installCommand = this.config.installCommand + ' ' + this.config.installOptions;
  installCommand = installCommand.trim();
  this.cacheLogInfo('running [' + installCommand + ']...');
  if (shell.exec(installCommand).code !== 0) {
    error = 'error running ' + this.config.installCommand;
    this.cacheLogError(error);
  } else {
    this.cacheLogInfo('installed ' + this.config.cliName + ' dependencies, now archiving');
  }
  return error;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  cacheArchiveExists ? cachePathArchive : cachePathNotArchived,
  cacheArchiveExists,
  callback
);

  } else { // install dependencies with CLI tool and cache
// Try to install dependencies using package manager
error = this.<span class="apidocCodeKeywordSpan">installDependencies</span>();
if (error !== null) {
  callback(error);
  return;
}

// Try to archive newly installed dependencies
var cachePathWithInstalledDirectory = path.resolve(cachePathNotArchived, this.config.installDirectory);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.loadDependencies" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.loadDependencies">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>loadDependencies
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadDependencies = function (callback) {
  var self = this;
  var error = null;

  // Check if config file for dependency manager exists
  if (! fs.existsSync(this.config.configPath)) {
    this.cacheLogInfo('Dependency config file ' + this.config.configPath + ' does not exist. Skipping install');
    callback(null);
    return;
  }
  this.cacheLogInfo('config file exists');

  // Check if package manger CLI is installed
  try {
    which.sync(this.config.cliName);
    this.cacheLogInfo('cli exists');
  }
  catch (e) {
    error = 'Command line tool ' + this.config.cliName + ' not installed';
    this.cacheLogError(error);
    callback(error);
    return;
  }

  // Get hash of dependency config file
  var hash = this.config.getFileHash(this.config.configPath);
  hash = md5(cacheVersion + hash);
  this.cacheLogInfo('hash of ' + this.config.configPath + ': ' + hash);
  // cachePath is absolute path to where local cache of dependencies is located
  var cacheDirectory = path.resolve(this.config.cacheDirectory, this.config.cliName, this.config.getCliVersion());
  var cachePathArchive = path.resolve(cacheDirectory, hash + '.tar.gz');
  var cachePathNotArchived = path.resolve(cacheDirectory, hash);

  // Check if local cache of dependencies exists
  var cacheArchiveExists = fs.existsSync(cachePathArchive);
  var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
  if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
    this.cacheLogInfo('cache exists');

    // Try to retrieve cached dependencies
    this.installCachedDependencies(
      cacheArchiveExists ? cachePathArchive : cachePathNotArchived,
      cacheArchiveExists,
      callback
    );

  } else { // install dependencies with CLI tool and cache
    // Try to install dependencies using package manager
    error = this.installDependencies();
    if (error !== null) {
      callback(error);
      return;
    }

    // Try to archive newly installed dependencies
    var cachePathWithInstalledDirectory = path.resolve(cachePathNotArchived, this.config.installDirectory);
      this.archiveDependencies(
      this.config.noArchive ? cachePathNotArchived : cacheDirectory,
      this.config.noArchive ? cachePathWithInstalledDirectory : cachePathArchive,
      callback
    );
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
function startManager (managerName, callback) {
  var managerConfig = require(availableManagers[managerName]);
  managerConfig.cacheDirectory = opts.cacheDirectory;
  managerConfig.forceRefresh = opts.forceRefresh;
  managerConfig.noArchive = opts.noArchive;
  managerConfig.installOptions = managerArguments[managerName];
  var manager = new CacheDependencyManager(managerConfig);
  manager.<span class="apidocCodeKeywordSpan">loadDependencies</span>(callback);
},
function onInstalled (error) {
  if (error === null) {
    logger.logInfo('successfully installed all dependencies');
    process.exit(0);
  } else {
    logger.logError('error installing dependencies');
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.cacheDependencyManager.prototype.restoreFile" id="apidoc.element.npm-cache.cacheDependencyManager.prototype.restoreFile">
        function <span class="apidocSignatureSpan">npm-cache.cacheDependencyManager.prototype.</span>restoreFile
        <span class="apidocSignatureSpan">(backupPath, file)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">restoreFile = function (backupPath, file) {
  var sourceFile = getAbsolutePath(file);
  var backupFilename = getFileBackupFilename(file);
  var backupFile = path.join(backupPath, backupFilename);
  if (!fs.existsSync(backupFile)) {
    this.cacheLogError('restore file [file not found]:' + file);
    return;
  }

  fs.copySync(backupFile, sourceFile);
  this.cacheLogInfo('restore file: ' + file);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function onError(error) {
  self.cacheLogError('Error retrieving ' + cachePath + ': ' + error);
  callback(error);
}
function onEnd() {
  if (self.config.addToArchiveAndRestore) {
    self.<span class="apidocCodeKeywordSpan">restoreFile</span>(fileBackupDirectory, self.config.addToArchiveAndRestore);
    fs.removeSync(fileBackupDirectory);
  }
  self.cacheLogInfo('done extracting');
  callback();
}

if (compressedCacheExists) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.composerConfig" id="apidoc.module.npm-cache.composerConfig">module npm-cache.composerConfig</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.composerConfig.getCliVersion" id="apidoc.element.npm-cache.composerConfig.getCliVersion">
        function <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>getCliVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCliVersion = function () {
  var version = 'UnknownComposer';
  var versionString = shell.exec('composer --version', {silent: true}).output;
  // Example below:
  //    Composer version 1.0.0-alpha9 2014-12-07 17:15:20
  var versionRegex = /Composer version (\S+)/;
  var result = versionRegex.exec(versionString);
  if (result !== null) {
    version = result[1];
  } else {
    logger.logInfo('Could not find composer version from version string: ' + versionString);
  }
  return version;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Get hash of dependency config file
var hash = this.config.getFileHash(this.config.configPath);
hash = md5(cacheVersion + hash);
this.cacheLogInfo('hash of ' + this.config.configPath + ': ' + hash);
// cachePath is absolute path to where local cache of dependencies is located
var cacheDirectory = path.resolve(this.config.cacheDirectory, this.config.cliName, this.config.<span class="apidocCodeKeywordSpan
">getCliVersion</span>());
var cachePathArchive = path.resolve(cacheDirectory, hash + '.tar.gz');
var cachePathNotArchived = path.resolve(cacheDirectory, hash);

// Check if local cache of dependencies exists
var cacheArchiveExists = fs.existsSync(cachePathArchive);
var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.composerConfig.getFileHash" id="apidoc.element.npm-cache.composerConfig.getFileHash">
        function <span class="apidocSignatureSpan">npm-cache.composerConfig.</span>getFileHash
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getFileHash(filePath) {
  var json = JSON.parse(fs.readFileSync(filePath));

  if (isUsingComposerLock) {
    return json['content-hash'];
  }

  return md5(JSON.stringify({
    packages: json.require,
    packagesDev: json['require-dev'],
    repos: json.repositories
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  async.each(
    managers,
    function calculateHash (managerName) {
      var managerConfig = require(availableManagers[managerName]);
      managerConfig.cacheDirectory = opts.cacheDirectory;

      var hash = managerConfig.<span class="apidocCodeKeywordSpan">getFileHash</span>(managerConfig.configPath);
      console.log(hash);
    }
  );
};


// Recursively lists files in directory up to maxDepth
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.jspmConfig" id="apidoc.module.npm-cache.jspmConfig">module npm-cache.jspmConfig</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.jspmConfig.getCliVersion" id="apidoc.element.npm-cache.jspmConfig.getCliVersion">
        function <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>getCliVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getJspmVersion() {
    var rawMultilineOutput = shell.exec('jspm --version', {silent: true}).output;
    var version = rawMultilineOutput.split('\n')[0] || 'UnknownVersion';
    return version.trim();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Get hash of dependency config file
var hash = this.config.getFileHash(this.config.configPath);
hash = md5(cacheVersion + hash);
this.cacheLogInfo('hash of ' + this.config.configPath + ': ' + hash);
// cachePath is absolute path to where local cache of dependencies is located
var cacheDirectory = path.resolve(this.config.cacheDirectory, this.config.cliName, this.config.<span class="apidocCodeKeywordSpan
">getCliVersion</span>());
var cachePathArchive = path.resolve(cacheDirectory, hash + '.tar.gz');
var cachePathNotArchived = path.resolve(cacheDirectory, hash);

// Check if local cache of dependencies exists
var cacheArchiveExists = fs.existsSync(cachePathArchive);
var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.jspmConfig.getFileHash" id="apidoc.element.npm-cache.jspmConfig.getFileHash">
        function <span class="apidocSignatureSpan">npm-cache.jspmConfig.</span>getFileHash
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getConfigurationHash() {
    return md5(JSON.stringify({
        'package.json =&gt; jspm': getPackageJson().jspm,
        'config.js': getProjectFileContents(configFile)
    }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  async.each(
    managers,
    function calculateHash (managerName) {
      var managerConfig = require(availableManagers[managerName]);
      managerConfig.cacheDirectory = opts.cacheDirectory;

      var hash = managerConfig.<span class="apidocCodeKeywordSpan">getFileHash</span>(managerConfig.configPath);
      console.log(hash);
    }
  );
};


// Recursively lists files in directory up to maxDepth
...</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.logger" id="apidoc.module.npm-cache.logger">module npm-cache.logger</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.logger.logError" id="apidoc.element.npm-cache.logger.logError">
        function <span class="apidocSignatureSpan">npm-cache.logger.</span>logError
        <span class="apidocSignatureSpan">(errorMessage)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logError = function (errorMessage) {
  console.log('[npm-cache] [ERROR] ' + errorMessage);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      manager.loadDependencies(callback);
    },
    function onInstalled (error) {
      if (error === null) {
        logger.logInfo('successfully installed all dependencies');
        process.exit(0);
      } else {
        logger.<span class="apidocCodeKeywordSpan">logError</span>('error installing dependencies');
        process.exit(1);
      }
    }
  );
};

var reportHash = function (opts) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.logger.logInfo" id="apidoc.element.npm-cache.logger.logInfo">
        function <span class="apidocSignatureSpan">npm-cache.logger.</span>logInfo
        <span class="apidocSignatureSpan">(message)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">logInfo = function (message) {
  console.log('[npm-cache] [INFO] ' + message);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  var npmCacheArgs = ParseUtils.getNpmCacheArgs();
  parser.parse(npmCacheArgs);
};

// Creates cache directory if it does not exist yet
var prepareCacheDirectory = function (cacheDirectory) {
  logger.<span class="apidocCodeKeywordSpan">logInfo</span>('using ' + cacheDirectory + ' as cache directory'
;);
  if (! fs.existsSync(cacheDirectory)) {
    // create directory if it doesn't exist
    fs.mkdirsSync(cacheDirectory);
    logger.logInfo('creating cache directory');
  }
};
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.npmConfig" id="apidoc.module.npm-cache.npmConfig">module npm-cache.npmConfig</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.npmConfig.getCliVersion" id="apidoc.element.npm-cache.npmConfig.getCliVersion">
        function <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>getCliVersion
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getNpmVersion() {
  return shell.exec('npm --version', {silent: true}).output.trim();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
}

// Get hash of dependency config file
var hash = this.config.getFileHash(this.config.configPath);
hash = md5(cacheVersion + hash);
this.cacheLogInfo('hash of ' + this.config.configPath + ': ' + hash);
// cachePath is absolute path to where local cache of dependencies is located
var cacheDirectory = path.resolve(this.config.cacheDirectory, this.config.cliName, this.config.<span class="apidocCodeKeywordSpan
">getCliVersion</span>());
var cachePathArchive = path.resolve(cacheDirectory, hash + '.tar.gz');
var cachePathNotArchived = path.resolve(cacheDirectory, hash);

// Check if local cache of dependencies exists
var cacheArchiveExists = fs.existsSync(cachePathArchive);
var cacheNotArchivedExists = fs.existsSync(cachePathNotArchived);
if (!this.config.forceRefresh &amp;&amp; (cacheArchiveExists || cacheNotArchivedExists)) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.npmConfig.getFileHash" id="apidoc.element.npm-cache.npmConfig.getFileHash">
        function <span class="apidocSignatureSpan">npm-cache.npmConfig.</span>getFileHash
        <span class="apidocSignatureSpan">(filePath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function getFileHash(filePath) {
  var json = JSON.parse(fs.readFileSync(filePath));
  return md5(JSON.stringify({
    dependencies: json.dependencies,
    devDependencies: json.devDependencies
  }));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  async.each(
    managers,
    function calculateHash (managerName) {
      var managerConfig = require(availableManagers[managerName]);
      managerConfig.cacheDirectory = opts.cacheDirectory;

      var hash = managerConfig.<span class="apidocCodeKeywordSpan">getFileHash</span>(managerConfig.configPath);
      console.log(hash);
    }
  );
};


// Recursively lists files in directory up to maxDepth
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.npm-cache.parseUtils" id="apidoc.module.npm-cache.parseUtils">module npm-cache.parseUtils</a></h1>


    <h2>
        <a href="#apidoc.element.npm-cache.parseUtils.getManagerArgs" id="apidoc.element.npm-cache.parseUtils.getManagerArgs">
        function <span class="apidocSignatureSpan">npm-cache.parseUtils.</span>getManagerArgs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getManagerArgs = function () {
  var managers = {};
  var allArguments = process.argv.slice(3); // strip off 'node', 'index.js', and 'install' from arguments list
  var availableManagers = CacheDependencyManager.getAvailableManagers();
  var currManager = null;

  // First determine which managers were requested by looking at command line arguments
  _.forEach(
    allArguments,
    function addManagerArgument (argument) {
      if (argument in availableManagers) {
        managers[argument] = '';
        currManager = argument;
      } else if (currManager !== null) {
        managers[currManager] += argument + ' ';
      }
    }
  );

  // If no managers were specified, try installing everything by default!
  if (_.isEmpty(managers)) {
    // add all keys from available managers as keys here
    _.forEach(
      CacheDependencyManager.getAvailableDefaultManagers(),
      function addManager (managerPath, manager) {
        managers[manager] = '';
      }
    );
  }

  return managers;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// npm-cache command handlers

// main method for installing specified dependencies
var installDependencies = function (opts) {
prepareCacheDirectory(opts.cacheDirectory);

var availableManagers = CacheDependencyManager.getAvailableManagers();
var managerArguments = ParseUtils.<span class="apidocCodeKeywordSpan">getManagerArgs</span>();
var managers = Object.keys(managerArguments);

async.each(
  managers,
  function startManager (managerName, callback) {
    var managerConfig = require(availableManagers[managerName]);
    managerConfig.cacheDirectory = opts.cacheDirectory;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.npm-cache.parseUtils.getNpmCacheArgs" id="apidoc.element.npm-cache.parseUtils.getNpmCacheArgs">
        function <span class="apidocSignatureSpan">npm-cache.parseUtils.</span>getNpmCacheArgs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getNpmCacheArgs = function () {
  var npmCacheArgs = [];

  var availableManagers = CacheDependencyManager.getAvailableManagers();

  var allArguments = process.argv.slice(2);
  for (var i = 0; i &lt; allArguments.length; i++) {
    var currArgument = allArguments[i];
    if (currArgument in availableManagers) {
      break;
    } else {
      npmCacheArgs.push(currArgument);
    }
  }
  return npmCacheArgs;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  '\tnpm-cache install --forceRefresh  bower\t# force installing dependencies from package manager without cache',
  '\tnpm-cache install --noArchive npm\t# do not compress/archive the cached dependencies',
  '\tnpm-cache clean\t# cleans out all cached files in cache directory',
  '\tnpm-cache hash\t# reports the current working hash'
];
parser.help(examples.join('\n'));

var npmCacheArgs = ParseUtils.<span class="apidocCodeKeywordSpan">getNpmCacheArgs</span>();
parser.parse(npmCacheArgs);
};

// Creates cache directory if it does not exist yet
var prepareCacheDirectory = function (cacheDirectory) {
logger.logInfo('using ' + cacheDirectory + ' as cache directory');
if (! fs.existsSync(cacheDirectory)) {
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>